<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Promise</title>
    <link rel="stylesheet" href="styles.css">
</head>

<body>
    <div>
        <button style="padding: 4px 10px; margin: 10px; border-radius:10px" onclick="generateJoke()">Generate
            joke</button>
        <main></main>
    </div>
    <script>
        let container = document.querySelector('main');
        // using .then() and .catch()
        // function generateJoke() {
        //     let response = fetch("https://official-joke-api.appspot.com/random_joke");
        //     response.then(data => data.json())
        //         .then(data => {
        //             // console.log(data);
        //             container.innerHTML += `<h1> ${data.setup}</h1>
        //             <p>${data.punchline}</p>    
        //             `;
        //         })
        //         .catch(error => console.log("error", error));
        // }

        // using async and await

        // async function generateJoke(){
        //     try{
        //         let response = await fetch("https://official-joke-api.appspot.com/random_joke");
        //         let data = await response.json();
        //         console.log(data);
        //     }
        //     catch (error){
        //         console.error("error", error);
        //     }
        // }

        async function generateJoke() {
            try {
                let response = await fetch("https://official-joke-api.appspot.com/random_joke");
                console.log(response);
                let data = await response.json();
                container.innerHTML += `<h3>${data.setup}</h3>
                <h4>${data.punchline}</h4>` 
            }
            catch (error) {
                console.error("error", error);
            }
        }
    </script>
</body>

</html>